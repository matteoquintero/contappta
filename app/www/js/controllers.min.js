angular.module("starter.controllers",[]).controller("LoginCtrl",function(b,a,d,c){b.data={};window.localStorage.clear();b.login=function(){window.localStorage.clear();
a.loginUser(b.data.username,b.data.password).success(function(e){c.go("tab.dash");}).error(function(f){var e=d.alert({title:"Inicio fallido",template:"Por favor revisa tus credenciales"});
});};}).controller("EventDetailCtrl",function(a,c,b){a.fechaevento=c.dateevent;b.date(c.dateevent).then(function(d){a.events=d;});}).controller("EventIdDetailCtrl",function(a,c,b){b.eventId(c.idEvent).then(function(d){a.events=d;
});}).controller("DashCtrl",function(b,c){c.all().then(function(d){b.notices=d;});var a=JSON.parse(window.localStorage.user||"{}");b.user=a;}).controller("DashDetailCtrl",function(b,f,e,d,g){var a=JSON.parse(window.localStorage.user||"{}");
d.get(f.noticeId).then(function(h){b.notice=h;});b.sendMessage=function(i){var h={response:b.input.message,user:a.idUsuario,nevv:f.noticeId};g.create(h).then(function(j){e.go("tab.dash");
});};var c={user:a.idUsuario,nevv:f.noticeId,};d.view(c).then();}).controller("ChatsCtrl",function(a,f,e,d,c,b){f.all().then(function(g){a.chats=g;});a.remove=function(h){var g=e.confirm({title:"Confirmar",template:"Esta seguro que desea eliminar este contenido"});
g.then(function(j){if(j){var i={conversation:h.idConversacion,};c.kill(i).then(function(k){b.go("tab.dash");});}});};}).controller("ChatDetailCtrl",function(b,f,e,h,g,d){var a=JSON.parse(window.localStorage.user||"{}");
h.get(f.chatId).then(function(i){b.messages=i;});g.get(f.userId).then(function(i){b.user=i;});b.sendMessage=function(j){var i={message:b.input.message,transmitter:a.idUsuario,reciver:f.userId,conversation:f.chatId,institution:a.idInstitucion};
d.create(i).then(function(k){e.go("tab.chats");});};var c={reciver:a.idUsuario,conversation:f.chatId,};d.view(c).then();}).controller("Son",function(b,c,d,a){d.get(c.user).then(function(e){b.user=e;
});a.get(c.user).then(function(e){b.honors=e;});}).controller("Institute",function(b,c){var a=JSON.parse(window.localStorage.user||"{}");c.get(a.idInstitucion).then(function(d){b.institution=d;
});}).controller("DataCtrl",function(b,c){var a=JSON.parse(window.localStorage.user||"{}");b.user=a;c.get(a.idInstitucion).then(function(d){b.institution=d;
});}).controller("AccountCtrl",function(b,d,c){d.all().then(function(e){b.sons=e;});var a=JSON.parse(window.localStorage.user||"{}");b.user=a;c.get(a.idInstitucion).then(function(e){b.institution=e;
});}).controller("DateCtrl",function(i,a,e,j){Array.prototype.containsdate=function(l){var k=this.length;while(k--){if(this[k]["date"].toString()===l.toString()){return true;
}}return false;};var d=new Date();var b=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];
var h=["Do","Lu","Ma","Mi","Ju","Vi","Sa"];var c=new Date(2015,1,26);var f=new Date(2024,1,26);var g=[];j.calender().then(function(l){for(var m=0;m<l.length;
m++){var k=l[m]["fechaInicio"].split("-");g.push({date:new Date(parseInt(k[0]),(parseInt(k[1])-1),parseInt(k[2]))});}});console.log("asdasd");i.onezoneDatepicker={date:d,mondayFirst:true,months:b,daysOfTheWeek:h,startDate:c,endDate:f,disablePastDays:false,disableSwipe:false,disableWeekend:false,showDatepicker:false,showTodayButton:true,calendarMode:true,hideCancelButton:false,hideSetButton:false,highlights:g,callback:function(l){if(g.containsdate(l)){var k=((l.getFullYear())+"-"+(l.getMonth()+1)+"-"+l.getDate());
a.go("tab.event-detail",{dateevent:k},{inherit:false});}}};}).controller("MagazineCtrl",["$scope","$ionicModal","$ionicSlideBoxDelegate","magazines",function(b,a,d,c){c.all().then(function(e){b.magazines=e;
});b.data={allowScroll:false};a.fromTemplateUrl("image-modal.html",{scope:b,animation:"slide-in-up"}).then(function(e){b.modal=e;});b.openModal=function(e){c.pages(e).then(function(g){var f=Array();
for(var h=0;h<g.length;h++){f.push({src:g[h].pagina,});}b.aImages=f;d.slide(0);b.modal.show();});};b.closeModal=function(){b.modal.hide();};b.$on("$destroy",function(){b.modal.remove();
});b.$on("modal.hide",function(){});b.$on("modal.removed",function(){});b.$on("modal.shown",function(){});b.next=function(){d.next();};b.previous=function(){d.previous();
};b.goToSlide=function(e){b.modal.show();d.slide(e);};b.slideChanged=function(e){b.slideIndex=e;};}]);