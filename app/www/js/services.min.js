angular.module("starter.services",[]).service("fileUpload",["$http",function(a){this.uploadFileToUrl=function(d,b){var c=new FormData();c.append("file",d);
a.post(b,c,{transformRequest:angular.identity,headers:{"Content-Type":undefined}}).success(function(){}).error(function(){});};}]).service("LoginService",function(a,b){return{loginUser:function(d,e){var c=a.defer();
var g=c.promise;var f={method:"POST",url:"http://localhost/contappta/dashboard/application/controller/app/login.php",headers:{"Content-Type":" application/json "},params:{user:d,password:e}};
b(f).then(function(h){if(h.data[0]===true){window.localStorage.user=JSON.stringify(h.data[1]);window.localStorage.institution=JSON.stringify(h.data[2]);
c.resolve("Welcome "+d+"!");}else{c.reject("Wrong credentials.");}});g.success=function(h){g.then(h);return g;};g.error=function(h){g.then(null,h);return g;
};return g;}};}).service("Navigation",function(a){this.goNative=function(b,c,d){a.go(b,c);window.plugins.nativepagetransitions.slide({direction:d},function(e){console.log("success: "+e);
},function(e){alert("error: "+e);});};}).directive("goNative",["$ionicGesture","$ionicPlatform",function(b,a){return{restrict:"A",link:function(e,d,c){b.on("tap",function(h){var g=c.direction;
var f=c.transitiontype;a.ready(function(){switch(f){case"slide":window.plugins.nativepagetransitions.slide({direction:g},function(i){console.log("success: "+i);
},function(i){alert("error: "+i);});break;case"flip":window.plugins.nativepagetransitions.flip({direction:g},function(i){console.log("success: "+i);},function(i){alert("error: "+i);
});break;case"fade":window.plugins.nativepagetransitions.fade({},function(i){console.log("success: "+i);},function(i){alert("error: "+i);});break;case"drawer":window.plugins.nativepagetransitions.drawer({origin:g,action:"open"},function(i){console.log("success: "+i);
},function(i){alert("error: "+i);});break;case"curl":window.plugins.nativepagetransitions.curl({direction:g},function(i){console.log("success: "+i);},function(i){alert("error: "+i);
});break;default:window.plugins.nativepagetransitions.slide({direction:g},function(i){console.log("success: "+i);},function(i){alert("error: "+i);});}});
},d);}};}]).directive("hideTabs",function(a){return{restrict:"A",link:function(b,c){a.hideTabs="tabs-item-hide";b.$on("$destroy",function(){a.hideTabs="";
});}};}).factory("news",function(d){var b=JSON.parse(window.localStorage.user||"{}");var a=b.idUsuario;var c={all:function(){var e={method:"POST",url:"http://localhost/contappta/dashboard/application/controller/app/news.php",headers:{"Content-Type":" application/json "},params:{reciver:a,mode:"news"}};
var f=d(e).then(function(g){return g.data;});return f;},get:function(g){var e={method:"POST",url:"http://localhost/contappta/dashboard/application/controller/app/news.php",headers:{"Content-Type":" application/json "},params:{nevv:g,mode:"new"}};
var f=d(e).then(function(h){return h.data[0];});return f;}};return c;}).factory("users",function(b){var a={get:function(e){var c={method:"POST",url:"http://localhost/contappta/dashboard/application/controller/app/users.php",headers:{"Content-Type":" application/json "},params:{user:e}};
var d=b(c).then(function(f){return f.data;});return d;}};return a;}).factory("chats",function(d){var b=JSON.parse(window.localStorage.user||"{}");var a=b.idUsuario;
var c={all:function(){var e={method:"POST",url:"http://localhost/contappta/dashboard/application/controller/app/messages.php",headers:{"Content-Type":" application/json "},params:{reciver:a,mode:"transmitters"}};
var f=d(e).then(function(g){return g.data;});return f;},get:function(g){var e={method:"POST",url:"http://localhost/contappta/dashboard/application/controller/app/messages.php",headers:{"Content-Type":" application/json "},params:{transmitter:g,reciver:a,mode:"transmitter"}};
var f=d(e).then(function(h){return h.data;});return f;},remove:function(e){c.splice(c.indexOf(e),1);},removeMessage:function(e){c.splice(c.indexOf(e),1);
}};return c;});