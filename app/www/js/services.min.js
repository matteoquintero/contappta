angular.module("starter.services",[]).service("fileUpload",["$http",function(a){this.uploadFileToUrl=function(d,b){var c=new FormData();c.append("file",d);
a.post(b,c,{transformRequest:angular.identity,headers:{"Content-Type":undefined}}).success(function(){}).error(function(){});};}]).service("LoginService",function(a,b){return{loginUser:function(d,e){var c=a.defer();
var g=c.promise;var f={method:"POST",url:"http://localhost/contappta/dashboard/application/controller/app/login.php",headers:{"Content-Type":" application/json "},params:{user:d,password:e}};
b(f).then(function(h){if(h.data[0]===true){window.localStorage.idUser=h.data[3];window.localStorage.idRol=h.data[4];c.resolve("Welcome "+d+"!");}else{c.reject("Wrong credentials.");
}});g.success=function(h){g.then(h);return g;};g.error=function(h){g.then(null,h);return g;};return g;}};}).service("Navigation",function(a){this.goNative=function(b,c,d){a.go(b,c);
window.plugins.nativepagetransitions.slide({direction:d},function(e){console.log("success: "+e);},function(e){alert("error: "+e);});};}).directive("goNative",["$ionicGesture","$ionicPlatform",function(b,a){return{restrict:"A",link:function(e,d,c){b.on("tap",function(h){var g=c.direction;
var f=c.transitiontype;a.ready(function(){switch(f){case"slide":window.plugins.nativepagetransitions.slide({direction:g},function(i){console.log("success: "+i);
},function(i){alert("error: "+i);});break;case"flip":window.plugins.nativepagetransitions.flip({direction:g},function(i){console.log("success: "+i);},function(i){alert("error: "+i);
});break;case"fade":window.plugins.nativepagetransitions.fade({},function(i){console.log("success: "+i);},function(i){alert("error: "+i);});break;case"drawer":window.plugins.nativepagetransitions.drawer({origin:g,action:"open"},function(i){console.log("success: "+i);
},function(i){alert("error: "+i);});break;case"curl":window.plugins.nativepagetransitions.curl({direction:g},function(i){console.log("success: "+i);},function(i){alert("error: "+i);
});break;default:window.plugins.nativepagetransitions.slide({direction:g},function(i){console.log("success: "+i);},function(i){alert("error: "+i);});}});
},d);}};}]).directive("hideTabs",function(a){return{restrict:"A",link:function(b,c){a.hideTabs="tabs-item-hide";b.$on("$destroy",function(){a.hideTabs="";
});}};}).factory("news",function(b){var a={all:function(){var c={method:"POST",url:"http://localhost/contappta/dashboard/application/controller/app/news.php",headers:{"Content-Type":" application/json "},params:{reciver:window.localStorage.idUser,mode:"news"}};
var d=b(c).then(function(e){return e.data;});return d;},get:function(e){var c={method:"POST",url:"http://localhost/contappta/dashboard/application/controller/app/news.php",headers:{"Content-Type":" application/json "},params:{nevv:e,mode:"new"}};
var d=b(c).then(function(f){return f.data[0];});return d;}};return a;}).factory("users",function(b){var a={get:function(e){var c={method:"POST",url:"http://localhost/contappta/dashboard/application/controller/app/users.php",headers:{"Content-Type":" application/json "},params:{user:e,}};
var d=b(c).then(function(f){return f.data;});return d;}};return a;}).factory("chats",function(b){var a={all:function(){var c={method:"POST",url:"http://localhost/contappta/dashboard/application/controller/app/messages.php",headers:{"Content-Type":" application/json "},params:{reciver:window.localStorage.idUser,mode:"transmitters"}};
var d=b(c).then(function(e){return e.data;});return d;},get:function(e){var c={method:"POST",url:"http://localhost/contappta/dashboard/application/controller/app/messages.php",headers:{"Content-Type":" application/json "},params:{transmitter:e,reciver:window.localStorage.idUser,mode:"transmitter"}};
var d=b(c).then(function(f){return f.data;});return d;},remove:function(c){a.splice(a.indexOf(c),1);},removeMessage:function(c){a.splice(a.indexOf(c),1);
}};return a;});