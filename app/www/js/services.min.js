angular.module("starter.services",[]).service("LoginService",function(a,d){var b={controller:"http://www.contappta.com/application/controller/app/"};window.localStorage.app=JSON.stringify(b);
var c=JSON.parse(window.localStorage.app||"{}");return{loginUser:function(f,g){var e=a.defer();var j=e.promise;var h={method:"POST",url:c.controller+"login.php",headers:{"Content-Type":" application/json "},params:{user:f,password:g}};
d(h).then(function(k){if(k.data[0]===true){window.localStorage.clear();window.localStorage.app=JSON.stringify(b);window.localStorage.user=JSON.stringify(k.data[1]);
e.resolve();}else{e.reject();}});j.success=function(k){j.then(k);return j;};j.error=function(k){j.then(null,k);return j;};return j;}};}).factory("news",function(e){var b=JSON.parse(window.localStorage.user||"{}");
var d=JSON.parse(window.localStorage.app||"{}");var a=b.idUsuario;var c={all:function(){var f={method:"POST",url:d.controller+"news.php",headers:{"Content-Type":" application/json "},params:{reciver:a,mode:"news"}};
var g=e(f).then(function(h){return h.data;});return g;},get:function(h){var f={method:"POST",url:d.controller+"news.php",headers:{"Content-Type":" application/json "},params:{nevv:h,mode:"new"}};
var g=e(f).then(function(j){return j.data[0];});return g;},view:function(f){var g={method:"POST",url:d.controller+"new.php",headers:{"Content-Type":" application/json "},params:{user:f.user,nevv:f.nevv}};
var h=e(g).then(function(j){return j.data;});return h;}};return c;}).factory("magazines",function(e){var a=JSON.parse(window.localStorage.user||"{}");var d=JSON.parse(window.localStorage.app||"{}");
var b=a.idInstitucion;var c={all:function(){var f={method:"POST",url:d.controller+"magazines.php",headers:{"Content-Type":" application/json "},params:{institution:b,mode:"magazines"}};
var g=e(f).then(function(h){return h.data;});return g;},pages:function(h){var f={method:"POST",url:d.controller+"magazines.php",headers:{"Content-Type":" application/json "},params:{magazine:h,mode:"pages"}};
var g=e(f).then(function(j){return j.data;});return g;},view:function(f){var g={method:"POST",url:d.controller+"new.php",headers:{"Content-Type":" application/json "},params:{user:f.user,nevv:f.nevv}};
var h=e(g).then(function(j){return j.data;});return h;}};return c;}).factory("events",function(e){var b=JSON.parse(window.localStorage.user||"{}");var d=JSON.parse(window.localStorage.app||"{}");
var a=b.idUsuario;var c={calender:function(){var f={method:"POST",url:d.controller+"events.php",headers:{"Content-Type":" application/json "},params:{reciver:a,mode:"app-calender"}};
var g=e(f).then(function(h){return h.data;});return g;},date:function(g){var f={method:"POST",url:d.controller+"events.php",headers:{"Content-Type":" application/json "},params:{reciver:a,dateevent:g,mode:"app-date"}};
var h=e(f).then(function(j){return j.data;});return h;},eventId:function(h){var f={method:"POST",url:d.controller+"events.php",headers:{"Content-Type":" application/json "},params:{reciver:a,even:h,mode:"app-id"}};
var g=e(f).then(function(j){return j.data;});return g;}};return c;}).factory("sons",function(e){var b=JSON.parse(window.localStorage.user||"{}");var d=JSON.parse(window.localStorage.app||"{}");
var a=b.idUsuario;var c={all:function(){var f={method:"POST",url:d.controller+"sons.php",headers:{"Content-Type":" application/json "},params:{user:a}};
var g=e(f).then(function(h){return h.data;});return g;}};return c;}).factory("honors",function(c){var b=JSON.parse(window.localStorage.app||"{}");var a={get:function(f){var d={method:"POST",url:b.controller+"honors.php",headers:{"Content-Type":" application/json "},params:{user:f}};
var e=c(d).then(function(g){return g.data;});return e;}};return a;}).factory("institutions",function(c){var b=JSON.parse(window.localStorage.app||"{}");
var a={get:function(f){var d={method:"POST",url:b.controller+"institutions.php",headers:{"Content-Type":" application/json "},params:{institution:f}};var e=c(d).then(function(g){return g.data;
});return e;}};return a;}).factory("users",function(c){var a=JSON.parse(window.localStorage.app||"{}");var b={get:function(f){var d={method:"POST",url:a.controller+"users.php",headers:{"Content-Type":" application/json "},params:{user:f}};
var e=c(d).then(function(g){return g.data;});return e;}};return b;}).factory("chats",function(e){var b=JSON.parse(window.localStorage.user||"{}");var c=JSON.parse(window.localStorage.app||"{}");
var a=b.idUsuario;var d={all:function(){var f={method:"POST",url:c.controller+"chats.php",headers:{"Content-Type":" application/json "},params:{user:a,mode:"app-all"}};
var g=e(f).then(function(h){return h.data;});return g;},get:function(h){var f={method:"POST",url:c.controller+"messages.php",headers:{"Content-Type":" application/json "},params:{conversation:h,mode:"conversation"}};
var g=e(f).then(function(j){return j.data;});return g;},remove:function(f){console.log(f);for(i=f.length-1;i>=0;i--){console.log(f[i].field);if(f[i].field=="money"){f.splice(i,1);
}}}};return d;}).factory("respuesta",function(c){var b=JSON.parse(window.localStorage.app||"{}");var a={create:function(d){var e={method:"POST",url:b.controller+"respuesta.php",headers:{"Content-Type":" application/json "},params:{response:d.response,user:d.user,nevv:d.nevv}};
var f=c(e).then(function(g){return g.data;});return f;},};return a;}).factory("mensaje",function(c){var b=JSON.parse(window.localStorage.app||"{}");var a={create:function(d){var e={method:"POST",url:b.controller+"mensaje.php",headers:{"Content-Type":" application/json "},params:{message:d.message,reciver:d.reciver,transmitter:d.transmitter,conversation:d.conversation,institution:d.institution,mode:"create"}};
var f=c(e).then(function(g){return g.data;});return f;},view:function(d){var e={method:"POST",url:b.controller+"mensaje.php",headers:{"Content-Type":" application/json "},params:{reciver:d.reciver,conversation:d.conversation,mode:"view"}};
var f=c(e).then(function(g){return g.data;});return f;},kill:function(d){var e={method:"POST",url:b.controller+"mensaje.php",headers:{"Content-Type":" application/json "},params:{conversation:d.conversation,mode:"remove"}};
var f=c(e).then(function(g){return g.data;});return f;}};return a;}).service("Navigation",function(a){this.goNative=function(b,c,d){a.go(b,c);window.plugins.nativepagetransitions.slide({direction:d},function(e){console.log("success: "+e);
},function(e){alert("error: "+e);});};}).directive("goNative",["$ionicGesture","$ionicPlatform",function(b,a){return{restrict:"A",link:function(e,d,c){b.on("tap",function(h){var g=c.direction;
var f=c.transitiontype;a.ready(function(){switch(f){case"slide":window.plugins.nativepagetransitions.slide({direction:g},function(j){console.log("success: "+j);
},function(j){alert("error: "+j);});break;case"flip":window.plugins.nativepagetransitions.flip({direction:g},function(j){console.log("success: "+j);},function(j){alert("error: "+j);
});break;case"fade":window.plugins.nativepagetransitions.fade({},function(j){console.log("success: "+j);},function(j){alert("error: "+j);});break;case"drawer":window.plugins.nativepagetransitions.drawer({origin:g,action:"open"},function(j){console.log("success: "+j);
},function(j){alert("error: "+j);});break;case"curl":window.plugins.nativepagetransitions.curl({direction:g},function(j){console.log("success: "+j);},function(j){alert("error: "+j);
});break;default:window.plugins.nativepagetransitions.slide({direction:g},function(j){console.log("success: "+j);},function(j){alert("error: "+j);});}});
},d);}};}]).directive("hideTabs",function(a){return{restrict:"A",link:function(b,c){a.hideTabs="tabs-item-hide";b.$on("$destroy",function(){a.hideTabs="";
});}};});